---
sidebar_position: 4
toc_min_heading_level: 2
toc_max_heading_level: 2
---

# updateFriends

## Feature Introduction

:::info Description

Modify friend information, including pinning, notes, and ex fields.

:::

:::caution Note

**Related Callback**:
[onFriendInfoChanged](../../callback/onFriendInfoChanged)     
[onConversationChanged](../../callback/onConversationChanged)   

:::

<Tabs
groupId="sdks-language"
values={[
{ label: 'iOS', value: 'iOS', },
{ label: 'Android', value: 'Android', },
{ label: 'Flutter', value: 'Flutter', },
{ label: 'uni-app', value: 'uni-app', },
{ label: 'Browser/Electron/MiniProgram', value: 'Web', },
{ label: 'React-Native', value: 'React-Native', },
{ label: 'Unity', value: 'Unity', },
]
}>

<TabItem value="Flutter">

### Function Prototype

```dart showLineNumbers
 Future<dynamic> updateFriends({
    required String userID,
    required String remark,
    String? operationID,
  })
```

### Input Parameters

| Parameter Name  | Data Type | Mandatory | Description    |
| -------- | -------- | -------- | ------- |
| userID   | String   | Yes       | user id |
| remark   | String   | No       | set remark    |

### Return Result

| Parameter Name | Data Type | Description                 |
| -------- | -------- | -------------------- |
| ~        | ~        | If no exception is thrown, the modification is successful |

### Code Example

```dart showLineNumbers
     await OpenIM.iMManager.friendshipManager.updateFriends(
       userID: '1129',
       remark: 'Tom',
    );
    // todo
```

</TabItem>

<TabItem value="iOS">

### Function Prototype

```swift showLineNumbers

- (void)updateFriends:(NSString *)userID
                 remark:(NSString * _Nullable)remark
              onSuccess:(nullable OIMSuccessCallback)onSuccess
              onFailure:(nullable OIMFailureCallback)onFailure;

```

### Input Parameters

| Parameter Name  | Data Type | Mandatory | Description    |
| -------- | -------- | -------- | ------- |
| userID   | NSString | Yes       | user id |
| remark   | NSString | No       | set remark    |

### Return Result

| Parameter Name  | Data Type                                               | Description     |
| --------- | ------------------------------------------------------ | -------- |
| onSuccess | OIMSuccessCallback | Successful return |
| onFailure | OIMFailureCallback   | Failure return |

### Code Example

```swift showLineNumbers

[OIMManager.manager updateFriends:@""
                             remark:@""
                          onSuccess:^(NSString * _Nullable data) {
} onFailure:^(NSInteger code, NSString * _Nullable msg) {
}];

```

</TabItem>

<TabItem value="Android">

### Function Prototype

```java showLineNumbers

  public void updateFriends(OnBase<String> callBack, String uid, String remark)

```

### Input Parameters

| Parameter Name | Data Type                                | Mandatory | Description     |
| -------- | --------------------------------------- | -------- | -------- |
| callBack | [OnBase](docs/sdks/callback/onBase.mdx) | Yes       | Callback interface |
| uid      | String                                  | Yes       | user id  |
| remark   | String                                  | Yes       | remark     |

### Return Result

### Code Example

```java showLineNumbers

OpenIMClient.getInstance().friendshipManager.updateFriends(new OnBase<String>(){â€¦},uid,remark)

```

</TabItem>

<TabItem value="Web">

### Function Prototype

```ts showLineNumbers
IMSDK.updateFriends({
    toUserID: string;
    remark: string;
}, operationID?: string): Promise<WsResponse>
```

### Input Parameters

| Parameter Name | Data Type | Mandatory | Description                                 |
| -------- | -------- | -------- | ------------------------------------ |
| toUserID | string   | Yes       | friend user id                          |
| remark   | string   | Yes       | set remark |

### Return Result

| Parameter Name        | Data Type                                             | Description         |
| --------------- | ---------------------------------------------------- | ------------ |
| Promise.then()  | Promise<[WsResponse](docs/sdks/class/response.mdx)\> | Call success |
| Promise.catch() | Promise<[WsResponse](docs/sdks/class/response.mdx)\> | Call failed |

### Code Example

```js showLineNumbers
import { getSDK } from 'open-im-sdk-wasm';
const IMSDK = getSDK();

// use in electron with ffi
// import { getWithRenderProcess } from '@openim/electron-client-sdk/lib/render';
// const { instance: IMSDK } = getWithRenderProcess();

// use in mini program
// import { OpenIMSDK } from 'open-im-sdk';
// const IMSDK = new OpenIMSDK();

IMSDK.updateFriends({
  toUserID: '',
  remark: '',
})
  .then(() => {
    // Call success
  })
  .catch(({ errCode, errMsg }) => {
    // Call failed
  });
```

</TabItem>

<TabItem value="uni-app">

### Function Prototype

```ts showLineNumbers
IMSDK.asyncApi('updateFriends', operationID: string, {
    toUserID: string;
    remark: string;
}): Promise<void>
```

### Input Parameters

| Parameter Name    | Data Type | Mandatory | Description                                                    |
| ----------- | -------- | -------- | ------------------------------------------------------- |
| operationID | string   | Yes       | Operation ID, for troubleshooting. Recommended to use current time combined with random number |
| toUserID    | string   | Yes       | friend user id                                             |
| remark      | string   | Yes       | set remark                    |

### Return Result

> Use the `openim-uniapp-polyfill` package to convert the function into a Promise. When calling, you need to use `then` and `catch` to judge and handle the success and failure callbacks.

| Parameter Name        | Data Type                                                | Description         |
| --------------- | ------------------------------------------------------- | ------------ |
| Promise.then()  | Promise<void\>                                          | Call success |
| Promise.catch() | Promise<[CatchResponse](docs/sdks/class/response.mdx)\> | Call failed |

### Code Example

```js showLineNumbers
import IMSDK from 'openim-uniapp-polyfill';

IMSDK.asyncApi('updateFriends', IMSDK.uuid(), {
  toUserID: '',
  remark: '',
})
  .then(() => {
    // Call success
  })
  .catch(({ errCode, errMsg }) => {
    // Call failed
  });
```

</TabItem>
<TabItem value="React-Native">

### Function Prototype

```ts showLineNumbers
OpenIMSDKRN.updateFriends({
  toUserID: string;
  remark: string;
}, operationID: string): Promise<void>
```

### Input Parameters

| Parameter Name    | Data Type | Mandatory | Description                                                    |
| ----------- | -------- | -------- | ------------------------------------------------------- |
| toUserID    | string   | Yes       | friend user id                                             |
| remark      | string   | Yes       | set remark                    |
| operationID | string   | Yes       | Operation ID, for troubleshooting. Recommended to use current time combined with random number |

### Return Result

| Parameter Name        | Data Type                                                | Description         |
| --------------- | ------------------------------------------------------- | ------------ |
| Promise.then()  | Promise<void\>                                          | Call success |
| Promise.catch() | Promise<[CatchResponse](docs/sdks/class/response.mdx)\> | Call failed |

### Code Example

```js showLineNumbers
import OpenIMSDKRN from "open-im-sdk-rn";

OpenIMSDKRN.updateFriends({
  toUserID: '',
  remark: '',
}, 'operationID')
  .then(() => {
    // Call success
  })
  .catch(({ errCode, errMsg }) => {
    // Call failed
  });
```

</TabItem>

<TabItem value="Unity">

### Function Prototype

```C# showLineNumbers

public static void UpdateFriends(OnSucOrError cb, UpdateFriendsParams userIDRemark)

```

### Input Parameters

| Parameter Name | Data Type                                | Mandatory | Description     |
| -------- | --------------------------------------- | -------- | -------- |
| cb | [OnSucOrError](docs/sdks/callback/OnSucOrError.mdx) | Yes       | Callback interface |
|    userIDRemark   |[UpdateFriendsParams](docs/sdks/class/relation/UpdateFriendsParams.mdx) | Yes       | Setting parameters  |

### Return Result

### Code Example

```C# showLineNumbers

IMSDK.UpdateFriends((suc,errCode,errMsg)=>{

},new UpdateFriendsParams(){
    ToUserID = "userid",
    Remark = "",
})

```

</TabItem>
</Tabs>
